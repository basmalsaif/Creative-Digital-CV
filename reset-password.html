<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Creative Digital CV â€” Create New Password</title>

  <!-- Branding / social -->
  <link rel="icon" href="icons/logo.png">
  <meta name="theme-color" content="#7c3aed">
  <meta property="og:title" content="Creative Digital CV â€” Create New Password">
  <meta property="og:description" content="Set a new password for your Creative Digital CV account.">
  <meta property="og:image" content="icons/preview.png">

  <!-- Font + shared styles -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/app.css">

  <!-- Page-specific tweaks -->
  <style>
    .header{
      backdrop-filter: blur(6px);
      box-shadow: 0 2px 12px rgba(0,0,0,.05);
      background: linear-gradient(90deg,#f3e8ff 0%, #a78bfa 50%, #7c3aed 100%);
      padding:10px 18px;display:flex;align-items:center;gap:18px;justify-content:space-between;
    }
    .back a{
      display:inline-block;
      padding:8px 14px;
      border-radius:12px;
      background:rgba(255,255,255,.12);
      color:#fff;
      font-weight:700;
      text-decoration:none;
      border:1px solid rgba(255,255,255,.3);
      transition:all .25s ease;
    }
    .back a:hover,.back a:focus-visible{
      background:rgba(255,255,255,.22);
      box-shadow:var(--ring);
    }
    main{flex:1;}

    /* Password strength meter */
    .strength {
      margin-top:8px;
    }
    .strength-bar{
      height:10px;border-radius:999px;background:#e5e7eb66;overflow:hidden;position:relative;
    }
    .strength-bar > span{
      position:absolute;left:0;top:0;bottom:0;width:0;
      background:linear-gradient(90deg,var(--brand),var(--brand-2));
      transition:width .25s ease;
    }
    .rules{color:var(--muted);font-size:14px;margin-top:10px;line-height:1.5}
    .rules li{margin:2px 0}
    .rules li.pass{color:#16a34a;font-weight:700}
    .toggle{
      position:absolute;right:10px;top:50%;transform:translateY(-50%);
      background:none;border:none;cursor:pointer;font-weight:700;color:#7c3aed;
    }
    .field{
      position:relative;
    }
    .msg{
      margin-top:8px;font-size:14px;
    }
    .msg.ok{color:#16a34a}
    .msg.err{color:#ef4444}
  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <!-- Header -->
  <header class="header" role="banner">
    <div class="brand">
      <img src="icons/logo.png" alt="Creative Digital CV logo" />
      <span>Creative Digital CV</span>
    </div>

    <button class="hamburger" id="hamburger" aria-label="Toggle menu" aria-expanded="false" aria-controls="mainnav">â˜°</button>

    <nav class="nav" id="mainnav" aria-label="Main">
      <a href="index.html">Dashboard</a>
      <a href="cv-templates.html">CV Templates</a>
      <a href="career-path.html">Career Path</a>
    </nav>

    <div class="back"><a href="index.html">Back to site</a></div>
  </header>

  <!-- Main -->
  <main id="main" class="auth-wrap" role="main" aria-labelledby="page-title">
    <!-- Left panel: info -->
    <section class="auth-panel" aria-label="Password tips">
      <h1 id="page-title" style="margin:0 0 10px;">Create a New Password</h1>
      <p style="margin:0 0 18px;color:var(--muted)">
        Choose a strong password to keep your account secure.
      </p>

      <div class="feature">
        <i><img src="icons/lock.png" width="18" height="18" alt=""></i>
        <div>
          <b>Strong & unique</b>
          <small style="color:var(--muted)">Use at least 12 characters combining letters, numbers & symbols.</small>
        </div>
      </div>

      <div class="feature">
        <i><img src="icons/target.png" width="18" height="18" alt=""></i>
        <div>
          <b>Donâ€™t reuse passwords</b>
          <small style="color:var(--muted)">Avoid using the same password on multiple sites.</small>
        </div>
      </div>

      <hr style="border:none;border-top:1px solid #eef2f7;margin:18px 0">

      <p style="margin:0;color:var(--muted)">
        Remembered your password?
        <a href="login.html" style="color:#7c3aed;font-weight:700;text-decoration:none;">Sign in here</a>
      </p>
    </section>

    <!-- Right panel: form -->
    <section class="auth-panel" aria-label="New password form">
      <div style="display:flex;gap:10px;margin-bottom:12px;">
        <button class="btn" disabled aria-current="page">Set New Password</button>
        <a class="btn" href="login.html" style="text-decoration:none;">Cancel</a>
      </div>

      <!-- In a real app, include the reset token as a hidden field -->
      <form action="#" method="post" novalidate>
        <div class="field">
          <label for="password" style="display:block;margin:8px 0 6px;font-weight:700">New Password</label>
          <input class="input" id="password" name="password" type="password" placeholder="Create a new password" autocomplete="new-password" required>
          <button class="toggle" type="button" aria-controls="password" aria-label="Show password" data-target="password">Show</button>
        </div>

        <div class="strength" aria-live="polite">
          <div class="strength-bar" aria-hidden="true"><span id="sbar"></span></div>
          <ul class="rules" id="rules">
            <li id="r-len">At least 8 characters</li>
            <li id="r-upper">One uppercase letter (Aâ€“Z)</li>
            <li id="r-num">One number (0â€“9)</li>
            <li id="r-spec">One special character (!@#$%â€¦)</li>
          </ul>
        </div>

        <div class="field" style="margin-top:14px;">
          <label for="confirm" style="display:block;margin:8px 0 6px;font-weight:700">Confirm Password</label>
          <input class="input" id="confirm" name="confirm" type="password" placeholder="Re-enter your password" autocomplete="new-password" required>
          <button class="toggle" type="button" aria-controls="confirm" aria-label="Show password" data-target="confirm">Show</button>
        </div>

        <div id="matchMsg" class="msg" role="status" aria-live="polite"></div>

        <button class="btn-primary" id="submitBtn" type="submit" style="margin-top:12px;">Save New Password</button>

        <div aria-hidden="true" style="display:flex;align-items:center;gap:10px;margin:20px 0;">
          <span style="height:1px;background:#eef2f7;flex:1"></span>
          <small style="color:var(--muted)">tips</small>
          <span style="height:1px;background:#eef2f7;flex:1"></span>
        </div>

        <p style="color:var(--muted);font-size:13px;margin:0;">
          Avoid common words and personal information. Consider a passphrase.
        </p>
      </form>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="foot">
      <div>Â© 2025 Creative Digital CV â€” Version 1.0 Beta | Made with love in SEU ðŸ’œ</div>
      <div style="display:flex;gap:16px;flex-wrap:wrap">
        <a href="terms.html">Terms & Conditions</a>
        <a href="privacy.html">Privacy</a>
        <a href="faqs.html">FAQs</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Shared JS -->
  <script src="js/app.js"></script>

  <!-- Page logic: visibility toggle, strength & match checks -->
  <script>
    (function(){
      const pwd = document.getElementById('password');
      const cfm = document.getElementById('confirm');
      const sbar = document.getElementById('sbar');
      const rules = {
        len: document.getElementById('r-len'),
        upper: document.getElementById('r-upper'),
        num: document.getElementById('r-num'),
        spec: document.getElementById('r-spec'),
      };
      const msg = document.getElementById('matchMsg');
      const submit = document.getElementById('submitBtn');

      function assess(s){
        const checks = {
          len: s.length >= 8,
          upper: /[A-Z]/.test(s),
          num: /\d/.test(s),
          spec: /[^A-Za-z0-9]/.test(s)
        };
        let passed = 0;
        Object.entries(checks).forEach(([k,v])=>{
          rules[k].classList.toggle('pass', v);
          if(v) passed++;
        });
        const pct = (passed/4)*100;
        sbar.style.width = pct + '%';
        return passed === 4;
      }

      function match(){
        if(!cfm.value){ msg.textContent=''; msg.className='msg'; return false; }
        const ok = pwd.value && cfm.value && pwd.value === cfm.value;
        msg.textContent = ok ? 'Passwords match.' : 'Passwords do not match.';
        msg.className = 'msg ' + (ok ? 'ok' : 'err');
        return ok;
      }

      pwd.addEventListener('input', ()=>{ assess(pwd.value); match(); });
      cfm.addEventListener('input', match);

      // Toggle show/hide
      document.querySelectorAll('.toggle').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const id = btn.getAttribute('data-target');
          const input = document.getElementById(id);
          const showing = input.type === 'text';
          input.type = showing ? 'password' : 'text';
          btn.textContent = showing ? 'Show' : 'Hide';
          btn.setAttribute('aria-label', (showing ? 'Show' : 'Hide') + ' password');
        });
      });

      // Prevent submit if weak or mismatch; demo redirect to login on success
      document.querySelector('form').addEventListener('submit', (e)=>{
        const strong = assess(pwd.value);
        const same = match();
        if(!strong || !same){
          e.preventDefault();
          msg.textContent = !same ? 'Passwords do not match.' : 'Please meet all password requirements.';
          msg.className = 'msg err';
          return;
        }
        // In production, let form submit to backend. For demo:
        e.preventDefault();
        window.location.href = 'reset-success.html';
      });
    })();
  </script>
</body>
</html>
